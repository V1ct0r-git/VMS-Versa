{% extends "settings_base.html" %}

{% block page_title %}Настройки системы{% endblock %}
{% block active_page %}general{% endblock %}

{% block settings_content %}
<div class="card">
    <div class="card-header">
        <h3 class="card-title">Общие настройки</h3>
    </div>
    <div class="card-body">
        <div class="system-info">
            <h4>Информация о системе</h4>
            <div class="info-grid">
                <div class="info-item">
                    <label>Версия системы:</label>
                    <span>{{ system_info.system.version }}</span>
                </div>
                <div class="info-item">
                    <label>Название:</label>
                    <span>{{ system_info.system.full_name }}</span>
                </div>
                <div class="info-item">
                    <label>Дата релиза:</label>
                    <span>{{ system_info.system.release_date }}</span>
                </div>
                <div class="info-item">
                    <label>Последнее обновление:</label>
                    <span>{{ system_info.system.last_update }}</span>
                </div>
                <div class="info-item">
                    <label>Текущий пользователь:</label>
                    <span>{{ current_user_obj.fullName }}</span>
                </div>
                <div class="info-item">
                    <label>Роль:</label>
                    <span class="badge badge-info">{{ {
                        'admin': 'Администратор',
                        'mechanic': 'Механик',
                        'manager': 'Менеджер'
                    }[current_user_obj.role] }}</span>
                </div>
            </div>
        </div>

        <!--
        <div class="system-stats">
            <h4>Статистика системы</h4>
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_cars }}</div>
                    <div class="stat-label">Автомобилей</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_maintenance }}</div>
                    <div class="stat-label">Записей ТО</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_reminders }}</div>
                    <div class="stat-label">Напоминаний</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.total_users }}</div>
                    <div class="stat-label">Пользователей</div>
                </div>
            </div>
        </div>
        -->

        <!--
        <div class="system-actions">
            <h4>Действия</h4>
            <div class="actions-grid">
                <div class="action-card">
                    <i class="fas fa-database"></i>
                    <h5>Резервное копирование</h5>
                    <p>Создание резервной копии данных системы</p>
                    <button class="btn btn-outline btn-sm" onclick="backupData()">
                        <i class="fas fa-download"></i>
                        Создать резервную копию
                    </button>
                </div>
                <div class="action-card">
                    <i class="fas fa-upload"></i>
                    <h5>Импорт данных</h5>
                    <p>Импорт данных из внешних источников</p>
                    <button class="btn btn-outline btn-sm" onclick="importData()">
                        <i class="fas fa-file-import"></i>
                        Импортировать данные
                    </button>
                </div>
                <div class="action-card">
                    <i class="fas fa-trash-alt"></i>
                    <h5>Очистка системы</h5>
                    <p>Удаление устаревших записей</p>
                    <button class="btn btn-outline btn-sm" onclick="cleanupData()">
                        <i class="fas fa-broom"></i>
                        Очистить систему
                    </button>
                </div>
            </div>
        </div>
        -->
    </div>
</div>

<script>
function backupData() {
    if (confirm('Создать резервную копию данных системы?')) {
        alert('Функция резервного копирования будет реализована в следующей версии');
    }
}

function importData() {
    if (confirm('Открыть окно импорта данных?')) {
        alert('Функция импорта данных будет реализована в следующей версии');
    }
}

function cleanupData() {
    if (confirm('Вы уверены, что хотите очистить систему от устаревших записей? Это действие необратимо!')) {
        alert('Функция очистки системы будет реализована в следующей версии');
    }
}
</script>
{% endblock %}
