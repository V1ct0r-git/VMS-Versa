<!-- templates/login_form.html -->
<form method="POST" id="login-form" class="auth-form" style="display: {% if not captcha_passed %}none{% else %}block{% endif %};">
    <!-- Скрытое поле для передачи порядка капчи (если нужно) -->
    <input type="hidden" name="captcha_order" id="captcha-order-field" value="{{ parts_order|join(',') }}">
    <!-- Остальные поля формы -->
    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-user"></i>
            Логин
        </label>
        <input type="text" name="username" required class="form-control" placeholder="Введите ваш логин">
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-lock"></i>
            Пароль
        </label>
        <input type="password" name="password" required class="form-control" placeholder="Введите ваш пароль">
    </div>

    <button type="submit" class="btn btn-primary">
        <i class="fas fa-sign-in-alt"></i>
        Войти в систему
    </button>
</form>

<script>
// Показываем форму логина, если капча пройдена (через переменную Flask)
// (Скрипт не нужен, так как отображение управляется через style в HTML)
// document.addEventListener('DOMContentLoaded', function() {
//     {% if captcha_passed %}
//         document.getElementById('login-form').style.display = 'block';
//         // Если капча пройдена, скрываем блок капчи (если он есть)
//         const captchaBlock = document.getElementById('captcha-block');
//         if (captchaBlock) {
//             captchaBlock.style.display = 'none';
//         }
//     {% endif %}
// });
</script>